<script>
  // Redirect to SPA if visited directly
  if (window.location.pathname.includes('/categories/')) {
    window.location.href = "/#/druk-cad";
  }
</script>
<h2>Druk CAD wielkoformatowy</h2>
<div class="form">
  <div class="row">
    <label for="cad-mode">Tryb:</label>
    <select id="cad-mode">
      <option value="bw">Czarno-biały</option>
      <option value="color">Kolorowy</option>
    </select>
  </div>

  <div class="row">
    <label for="cad-format">Format:</label>
    <select id="cad-format">
      <option value="A0p">A0+ (914 mm)</option>
      <option value="A0">A0 (841 mm)</option>
      <option value="A1">A1 (594 mm)</option>
      <option value="A2">A2 (420 mm)</option>
      <option value="A3">A3 (297 mm)</option>
    </select>
  </div>

  <div class="row">
    <label for="cad-length">Długość (mm):</label>
    <div style="display: flex; gap: 10px;">
      <input type="number" id="cad-length" value="1292" min="1">
      <button id="cad-use-base" class="secondary" style="white-space: nowrap;">Użyj bazowej</button>
    </div>
    <div id="cad-base-info" class="hint">Wymiar bazowy: 1292 mm</div>
  </div>

  <div class="row" id="qty-sheets-group">
    <label for="qty-sheets">Ilość arkuszy:</label>
    <input type="number" id="qty-sheets" value="1" min="1">
  </div>

  <div class="actions">
    <button id="cad-calculate" class="primary">Oblicz</button>
    <button id="cad-add-to-cart" class="success" disabled>Dodaj do listy</button>
  </div>

  <div id="cad-result-display" style="display: none; margin-top: 20px; padding: 14px; background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 12px;">
    <div style="display: flex; justify-content: space-between;">
      <span id="cad-price-type">Cena formatowa:</span>
      <span id="cad-total-price" style="font-size: 18px; font-weight: 950; color: #22c55e;">-</span>
    </div>
    <div id="cad-express-hint" style="font-size: 12px; color: #f59e0b; display: none;">Zawiera dopłatę EXPRESS +20%</div>
  </div>
</div>
